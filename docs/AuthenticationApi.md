# NationalDigitalIdentityNdiAspApi.AuthenticationApi

All URIs are relative to *https://localhost*

Method | HTTP request | Description
------------- | ------------- | -------------
[**initiateAuth**](AuthenticationApi.md#initiateAuth) | **GET** /v1/asp/auth | Initiate user authentication or authorization (GET)
[**initiateQRAuth**](AuthenticationApi.md#initiateQRAuth) | **POST** /v1/asp/responses/qrcodes | QR Code Authentication
[**responses**](AuthenticationApi.md#responses) | **POST** /v1/asp/responses | Callback endpoint called by form factor
[**v1AspAuthLoginPost**](AuthenticationApi.md#v1AspAuthLoginPost) | **POST** /v1/asp/auth/login | Endpoint called by the NDI Login page


<a name="initiateAuth"></a>
# **initiateAuth**
> initiateAuth(clientId, nonce, opts)

Initiate user authentication or authorization (GET)

OIDC authorization endpoint. The client call this endpoint to start the OIDC flow.  The ODIC flow consists of both user authentication and authorization.  The authorization endpoint performs the user authentication part of the OIDC flow, resulting in an authorization code given to the calling client which it use to call the token endpoint to continue with the authorization part of the OIDC flow.&lt;br&gt;&lt;br&gt; These are the different ways the client may interact with the ASP to carry out user authentication: &lt;br&gt;  1. Use the standard NDI Login page for user authentication.  The client redirects the user agent to this endpoint, which returns the NDI Login page for the user to enter his credentials for authentication.  In the case of NDI ASP, the login consists only the user id input (i.e. no password input) for the user enter his NDI id. The NDI Login page then interacts with the ASP to initiate user authentication. The ASP routes sends an authentication challenge to the user&#39;s form factor (e.g. the soft token on his mobile device) via the appropriate form factor authentication servce. For mobile soft token, the user is notified to enter his PIN in the NDI App to unlock the soft token to sign on the authentication challenge.  &lt;br&gt;&lt;br&gt; 2. The client uses its own login page to capture the user NDI id, and calls this endpoint passing-on the NDI id. Similar to point 1, The ASP routes also sends an authentication challenge to the user&#39;s form factor (e.g. the soft token on his mobile device) via the appropriate form factor authentication servce. For mobile soft token, the user is notified to enter his PIN in the NDI App to unlock the soft token to sign on the authentication challenge. &lt;br&gt;&lt;br&gt; 3. Use QR code.  The client calls this endpoint to request for a QR code which encodes the authentication challenge, it then displays on its login page to let the user scan with his NDI App. The NDI App will then let the user enter his PIN to unlock the soft token to sign on the authentication challenge. &lt;br&gt;&lt;br&gt; 4. If the client is a trusted mobile app, it may interact with the NDI App through the NDI mobile SDK, which calls this endpoint to obtain an authentication challenge.  The NDI App let the user enter his PIN to unlock the soft token to sign on the authentication challenge. &lt;br&gt;&lt;br&gt;  The NDI App returns the signed response generated by the mobile soft token to the ASP (through the ASP callback uri) which verifies the signature on the signed response with the user&#39;s certificate.  If all is well, the ASP generates an authorization code and sends it to the client via the client&#39;s redirect uri.  The client may then proceed with the authorization part of the OIDC flow by calling the ASP token endpoint to exchange for the security tokens (i.e. id token and access token) using the authorization code in accordance to the authorization code grant flow.

### Example
```javascript
var NationalDigitalIdentityNdiAspApi = require('national_digital_identity__ndi___asp_api');

var apiInstance = new NationalDigitalIdentityNdiAspApi.AuthenticationApi();

var clientId = new NationalDigitalIdentityNdiAspApi.ERRORUNKNOWN(); // ERRORUNKNOWN | The client id of the calling client app.

var nonce = new NationalDigitalIdentityNdiAspApi.ERRORUNKNOWN(); // ERRORUNKNOWN | A random unqiue reference generated by the client, which will be included in the ID token returned by the ASP on successful user authentication. The client may use this to tie the ID token to a particular authenticated session.

var opts = { 
  'scope': new NationalDigitalIdentityNdiAspApi.ERRORUNKNOWN(), // ERRORUNKNOWN | The scope of access requested for, this is a string of space- delimited references representing protected resources;
  'responseType': new NationalDigitalIdentityNdiAspApi.ERRORUNKNOWN(), // ERRORUNKNOWN | The response type, may be code or idtoken. Default to code if not specified.
  'state': new NationalDigitalIdentityNdiAspApi.ERRORUNKNOWN(), // ERRORUNKNOWN | The random string generated by the client to counter CSRF, if specified, the ASP will include it as part of the redirect url when returning the authorization code to the client's redirect uri.  The client is to match the value of the state returned with its copy to ensure the redirect is from the ASP.
  'acrValues': new NationalDigitalIdentityNdiAspApi.ERRORUNKNOWN(), // ERRORUNKNOWN | {Description to be added}
  'ndiId': new NationalDigitalIdentityNdiAspApi.ERRORUNKNOWN(), // ERRORUNKNOWN | {Description to be added}
  'prompt': new NationalDigitalIdentityNdiAspApi.ERRORUNKNOWN(), // ERRORUNKNOWN | {Description to be added}
  'display': new NationalDigitalIdentityNdiAspApi.ERRORUNKNOWN() // ERRORUNKNOWN | {Description to be added}
};

var callback = function(error, data, response) {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully.');
  }
};
apiInstance.initiateAuth(clientId, nonce, opts, callback);
```

### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **clientId** | [**ERRORUNKNOWN**](.md)| The client id of the calling client app. | 
 **nonce** | [**ERRORUNKNOWN**](.md)| A random unqiue reference generated by the client, which will be included in the ID token returned by the ASP on successful user authentication. The client may use this to tie the ID token to a particular authenticated session. | 
 **scope** | [**ERRORUNKNOWN**](.md)| The scope of access requested for, this is a string of space- delimited references representing protected resources; | [optional] 
 **responseType** | [**ERRORUNKNOWN**](.md)| The response type, may be code or idtoken. Default to code if not specified. | [optional] 
 **state** | [**ERRORUNKNOWN**](.md)| The random string generated by the client to counter CSRF, if specified, the ASP will include it as part of the redirect url when returning the authorization code to the client&#39;s redirect uri.  The client is to match the value of the state returned with its copy to ensure the redirect is from the ASP. | [optional] 
 **acrValues** | [**ERRORUNKNOWN**](.md)| {Description to be added} | [optional] 
 **ndiId** | [**ERRORUNKNOWN**](.md)| {Description to be added} | [optional] 
 **prompt** | [**ERRORUNKNOWN**](.md)| {Description to be added} | [optional] 
 **display** | [**ERRORUNKNOWN**](.md)| {Description to be added} | [optional] 

### Return type

null (empty response body)

### Authorization

No authorization required

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: Not defined

<a name="initiateQRAuth"></a>
# **initiateQRAuth**
> initiateQRAuth()

QR Code Authentication

This is the callback endpoint called by the form factor (or form factor authenticator service) to return the signed response to the originating ASP of the authentication challenge.  This is for FF authentication based on QR code.

### Example
```javascript
var NationalDigitalIdentityNdiAspApi = require('national_digital_identity__ndi___asp_api');

var apiInstance = new NationalDigitalIdentityNdiAspApi.AuthenticationApi();

var callback = function(error, data, response) {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully.');
  }
};
apiInstance.initiateQRAuth(callback);
```

### Parameters
This endpoint does not need any parameter.

### Return type

null (empty response body)

### Authorization

No authorization required

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: Not defined

<a name="responses"></a>
# **responses**
> responses()

Callback endpoint called by form factor

This is the callback endpoint called by the form factor (or form factor authenticator service) to return the signed response to the originating ASP of the authentication challenge. &lt;br/&gt;&lt;br/&gt;

### Example
```javascript
var NationalDigitalIdentityNdiAspApi = require('national_digital_identity__ndi___asp_api');

var apiInstance = new NationalDigitalIdentityNdiAspApi.AuthenticationApi();

var callback = function(error, data, response) {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully.');
  }
};
apiInstance.responses(callback);
```

### Parameters
This endpoint does not need any parameter.

### Return type

null (empty response body)

### Authorization

No authorization required

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: Not defined

<a name="v1AspAuthLoginPost"></a>
# **v1AspAuthLoginPost**
> v1AspAuthLoginPost()

Endpoint called by the NDI Login page

This endpoint is called by the NDI Login page when the user click the OK button, passing over the user NDI id.  This will initiate user authentication by sending an authentication challenge (via the form factor authenticator service) to the user&#39;s form factor.

### Example
```javascript
var NationalDigitalIdentityNdiAspApi = require('national_digital_identity__ndi___asp_api');

var apiInstance = new NationalDigitalIdentityNdiAspApi.AuthenticationApi();

var callback = function(error, data, response) {
  if (error) {
    console.error(error);
  } else {
    console.log('API called successfully.');
  }
};
apiInstance.v1AspAuthLoginPost(callback);
```

### Parameters
This endpoint does not need any parameter.

### Return type

null (empty response body)

### Authorization

No authorization required

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: Not defined

